정규화
==========================
## 정규화
* 정규화
이상현상이 발생하는 테이블을 수정하여 정상적으로 만드는것
> 정규화를 실행하기 위해선 **기본키와 함수 종속성**을 파악 해야 함

* 정규화 과정
정규형이 높을 수록 이상현상이 줄어듦

1. 제 1정규형
> 릴레이션 R의 **모든 속성 값이 원자값**을 가짐
2. 제 2정규형
> 릴레이션 R이 제1 정규형이고, **기본키가 아닌 속성이 기본키에 완전 함수 종속 일 때**
>> 완전함수종속
> A와 B가 릴레이션 R의 속성이고 A → B 종속성이 성립할 때 **B가 A의 속성 전체에 함수종속하고, 부분 집합 속성에 함수 종속하지 않을 경우에 완전 함수 종속이라고 함**
3.  제 3정규형
> 릴레이션 R이 제 2정규형이고 **기본키가 아닌 속성이 기본키에 비이행적으로 종속할 때(직접 종속)** 
>> 이행적 종속
> A → B, B → C가 성립할 때 A → C가 성립되는 함수 종속성
4.  BCNF
> 릴레이션 R에서 X → Y가 성립할 때, **모든 결정자 X가 후보키이면 BCNF 정규형**

※ 정규화는 BCNF까지 진행시 실제적인 이상현상이 없어지기 때문에 보통 BCNF까지 진행함 

* 무손실 분해
> 릴레이션 R을 R1과 R2로 분해할 때, R1**⋈**R2 = R 일 때
>> R1 ∩ R2 → R1 혹은 R1 ∩ R2 → R2 중 하나를 만족해야 함

### 이상현상
![image](https://user-images.githubusercontent.com/96763658/179692177-fce50bc3-268b-44eb-a4d1-db1cd71e6c49.png)


* 종류
1. 삭제이상
튜플 삭제 시 같이 저장된 다른 정보까지 연쇄적으로 삭제되는 현상
>연쇄삭제 문제 발생

2. 삽입이상
튜플 삽입 시 특정 속성에 해당하는 값이 없어 NULL 값을 입력해야 하는 현상
> NULL 값 문제 발생

3. 수정이상
튜플 수정 시 중복된 데이터의 일부만 수정되어 데이터의 불일치 문제가 일어나는 현상
> 불일치 문제 발생

### 함수 종속성
릴레이션 R과 R에 속하는 속성의 집합 X, Y가 있을 때 **X 각각의 값이 Y의 값 한개와 대응** 될 때 **X는 Y를 함수적으로 결정**한다 라고 하고 **X → Y**로 표기한다.
> X를 결정자(Determinant) Y를 종속속성(Dependent Attribute)라고 함

#### 함수 종속성 다이어그램
![image](https://user-images.githubusercontent.com/96763658/179693437-6145efe3-f5e1-4648-9360-cb42f5119265.png)

함수의 종속성을 나타내는 표기법
* 릴레이션의 속성: 직사각형
* 속성 간의 함수 종속성: 화살표
* 복합 속성: 직사각형 테두리

#### 함수 종속성 규칙
X, Y, Z가 릴레이션 R에 포함된 속성의 집합일 때
부분집합 규칙: if Y ⊆ X then X → Y
증가 규칙: if X → Y then XZ → YZ
이행 규칙: if X → Y and Y → Z then X → Z
결합 규칙: if X → Y and X → Z then X → YZ
분해 규칙: if X → YZ then X → Y and X → Z
유사이행 규칙: if X → Y and WY → Z then WX → Z

#### 함수 종속성과 기본키
이상현상은 **기본키가 아니면서 결정자적인 속성이 있을 때 발생**
> 이상현상을 없애려면 릴레이션을 분해한다
>> 분해시 부분 릴레이션의 결정자는 원래 릴레이션에 남겨둬야 한다

